See [agent.consumer](agent/consumer.py) for a description.
